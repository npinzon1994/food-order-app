{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspace\\\\react_practice\\\\udemy-projects-again\\\\food-order-app\\\\src\\\\components\\\\Cart\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport classes from \"./Cart.module.css\";\nimport Modal from \"../UI/Modal\";\nimport CartContext from \"../../context/cart-context\";\nimport CartItem from \"../Cart/CartItem\";\nimport CheckoutForm from \"./CheckoutForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = props => {\n  _s();\n  const cartContext = useContext(CartContext);\n  const [showCheckoutForm, setShowCheckoutForm] = useState(false);\n  const totalPrice = `$${cartContext.totalPrice.toFixed(2)}`;\n  const hasItems = cartContext.items.length > 0;\n  const addItemHandler = item => {\n    //copying over rest of item but increasing amount by 1\n    cartContext.addItem({\n      ...item,\n      quantity: 1\n    });\n  };\n  const removeItemHandler = id => {\n    cartContext.removeItem(id);\n  };\n  const cartItems = cartContext.items.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n    id: item.id,\n    name: item.name,\n    price: item.price,\n    quantity: item.quantity,\n    onAdd: addItemHandler.bind(null, item),\n    onRemove: removeItemHandler.bind(null, item.id)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this));\n  const showCheckoutFormHandler = () => {\n    setShowCheckoutForm(true);\n  };\n\n  //userData is coming from the checkout form\n  const submitOrderHandler = async userData => {\n    /*What exactly do we need to do to get the cart data\r\n    to play nice with our orderData?\r\n    \r\n    The orderData object can't have any nested objects (methinks)\r\n    Since the cartItems array contains objects, we need to \r\n    destructure the array, and then descructure each object in this loop*/\n\n    // for(const key in cartItems){\n    //   //now we have access to each object for every pass\n    //   const object = {...cartItems[key]}; //this is just one spread object we need\n    // }\n\n    /*...userData pulls each value out of an object\r\n    ...cartItems pulls each item object out of an array*/\n    const orderData = {\n      ...cartItems,\n      ...userData\n    };\n    const response = await fetch(\"https://food-order-app-be8a0-default-rtdb.firebaseio.com/orders.json\", {\n      method: 'POST',\n      body: JSON.stringify(orderData),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await response.json();\n  };\n  const modalActions = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.actions,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: props.onClose,\n      className: classes[\"button--alt\"],\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), hasItems && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.button,\n      onClick: showCheckoutFormHandler,\n      children: \"Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n\n  //props.onClose, here, refers to the function defined in App.js that closes the cart\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: props.onClose,\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      className: classes[\"cart-items\"],\n      children: cartItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.total,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Total Amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: totalPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), showCheckoutForm && /*#__PURE__*/_jsxDEV(CheckoutForm, {\n      onClose: props.onClose,\n      onSubmitOrder: submitOrderHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 28\n    }, this), !showCheckoutForm && modalActions]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"852nzPlkQTARnONVQHtmGkVu7Bg=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useContext","useState","classes","Modal","CartContext","CartItem","CheckoutForm","Cart","props","cartContext","showCheckoutForm","setShowCheckoutForm","totalPrice","toFixed","hasItems","items","length","addItemHandler","item","addItem","quantity","removeItemHandler","id","removeItem","cartItems","map","name","price","bind","showCheckoutFormHandler","submitOrderHandler","userData","orderData","response","fetch","method","body","JSON","stringify","headers","data","json","modalActions","actions","onClose","button","total"],"sources":["C:/workspace/react_practice/udemy-projects-again/food-order-app/src/components/Cart/Cart.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport classes from \"./Cart.module.css\";\r\nimport Modal from \"../UI/Modal\";\r\nimport CartContext from \"../../context/cart-context\";\r\nimport CartItem from \"../Cart/CartItem\";\r\nimport CheckoutForm from \"./CheckoutForm\";\r\n\r\nconst Cart = (props) => {\r\n  const cartContext = useContext(CartContext);\r\n  const [showCheckoutForm, setShowCheckoutForm] = useState(false);\r\n\r\n  const totalPrice = `$${cartContext.totalPrice.toFixed(2)}`;\r\n  const hasItems = cartContext.items.length > 0;\r\n\r\n  const addItemHandler = (item) => {\r\n    //copying over rest of item but increasing amount by 1\r\n    cartContext.addItem({ ...item, quantity: 1 });\r\n  };\r\n\r\n  const removeItemHandler = (id) => {\r\n    cartContext.removeItem(id);\r\n  };\r\n\r\n  const cartItems = cartContext.items.map((item) => (\r\n    <CartItem\r\n      key={item.id}\r\n      id={item.id}\r\n      name={item.name}\r\n      price={item.price}\r\n      quantity={item.quantity}\r\n      onAdd={addItemHandler.bind(null, item)}\r\n      onRemove={removeItemHandler.bind(null, item.id)}\r\n    />\r\n  ));\r\n\r\n  const showCheckoutFormHandler = () => {\r\n    setShowCheckoutForm(true);\r\n  };\r\n\r\n  //userData is coming from the checkout form\r\n  const submitOrderHandler = async (userData) => {\r\n\r\n    /*What exactly do we need to do to get the cart data\r\n    to play nice with our orderData?\r\n    \r\n    The orderData object can't have any nested objects (methinks)\r\n    Since the cartItems array contains objects, we need to \r\n    destructure the array, and then descructure each object in this loop*/\r\n\r\n    // for(const key in cartItems){\r\n    //   //now we have access to each object for every pass\r\n    //   const object = {...cartItems[key]}; //this is just one spread object we need\r\n    // }\r\n    \r\n    /*...userData pulls each value out of an object\r\n    ...cartItems pulls each item object out of an array*/\r\n    const orderData = {...cartItems, ...userData};\r\n    \r\n    const response = await fetch(\"https://food-order-app-be8a0-default-rtdb.firebaseio.com/orders.json\", {\r\n      method: 'POST',\r\n      body: JSON.stringify(orderData),\r\n      headers: {'Content-Type': 'application/json'}\r\n    });\r\n\r\n    const data = await response.json();\r\n  }\r\n\r\n  const modalActions = (\r\n    <div className={classes.actions}>\r\n      <button onClick={props.onClose} className={classes[\"button--alt\"]}>\r\n        Close\r\n      </button>\r\n      {hasItems && (\r\n        <button className={classes.button} onClick={showCheckoutFormHandler}>\r\n          Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  //props.onClose, here, refers to the function defined in App.js that closes the cart\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      <ul className={classes[\"cart-items\"]}>{cartItems}</ul>\r\n      <div className={classes.total}>\r\n        <span>Total Amount</span>\r\n        <span>{totalPrice}</span>\r\n      </div>\r\n\r\n      {showCheckoutForm && <CheckoutForm onClose={props.onClose} onSubmitOrder={submitOrderHandler}/>}\r\n      {!showCheckoutForm && modalActions}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}